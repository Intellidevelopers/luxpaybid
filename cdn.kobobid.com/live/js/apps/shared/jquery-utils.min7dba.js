var oneSecondDebounce=$.debounce(1500,true,function(){});function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}function showHidePassword(event){event.preventDefault();if($(this).closest(".show_hide_password").find('input[type="text"]')[0]){$(this).closest(".show_hide_password").find('input[type="text"]').attr("type","password");$(this).attr("src","https://cdn.kobobid.com/live/icon/eye_closed.svg")}else if($(this).closest(".show_hide_password").find('input[type="password"]')[0]){$(this).closest(".show_hide_password").find('input[type="password"]').attr("type","text");$(this).attr("src","https://cdn.kobobid.com/live/icon/eye_open.svg")}}function validateInlinePassword(element,submitButton){var error_found=false;if(element.val()!==""&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]/.test(element.val())){addInlineErrorToField(element.attr("id"),"Your password must contain at least one uppercase letter, one lowercase letter and one number");error_found=true}else if(element.val()!==""&&element.val().trim().length<8){addInlineErrorToField(element.attr("id"),"Your password should be at least 8 characters long");error_found=true}else if(element.val()!==""&&element.val().trim().length>64){addInlineErrorToField(element.attr("id"),"Your password is too long");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlineName(element,submitButton,label){var error_found=false;if(element.val()!==""&&!/^[a-zA-Z]/.test(element.val())){addInlineErrorToField(element.attr("id"),"Your "+label+" must start with a letter");error_found=true}else if(element.val()!==""&&!/^[a-zA-Z]+[a-zA-Z .,\'‘’´′-]*$/.test(element.val())){addInlineErrorToField(element.attr("id"),"Your "+label+" contains invalid characters");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlineFirstName(element,submitButton){return validateInlineName(element,submitButton,"First Name")}function validateInlineLastName(element,submitButton){return validateInlineName(element,submitButton,"Last Name")}function validateInlineUsername(element,submitButton){var error_found=false;element.val(element.val().trim().toLowerCase());if(element.val()!==""&&!/^[a-z]/.test(element.val())){addInlineErrorToField(element.attr("id"),"Your username must start with a letter");error_found=true}else if(element.val()!==""&&!/^[a-z]+[a-z0-9_]*$/.test(element.val())){addInlineErrorToField(element.attr("id"),"Your username can only contain letters, numbers and _");error_found=true}else if(element.val()!==""&&element.val().trim().length<3){addInlineErrorToField(element.attr("id"),"Your username should be at least 3 characters long");error_found=true}else if(element.val()!==""&&element.val().trim().length>12){addInlineErrorToField(element.attr("id"),"Your username should be no more than 12 characters");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlinePasswordConfirmation(element,passwordField,submitButton){var error_found=false;if(element.val().trim()!==""&&passwordField.val().trim()!==""&&element.val().trim()!==passwordField.val().trim()){addInlineErrorToField(element.attr("id"),"Your password and password confirmation does not match");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlineNumber(element,submitButton){var error_found=false;var numbersOnly=element.val().replace(/\D/g,"").trim();if(element.val()!==""&&!/^([0]{1}|\+?[234]{3})([7-9]{1})([0|1]{1})([\d]{1})([\d]{7})$/.test(numbersOnly)){addInlineErrorToField(element.attr("id"),"Your phone number must be a valid Nigerian number");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlineCode(element,submitButton){var error_found=false;var numbersOnly=element.val().replace(/\D/g,"").trim();if(element.val()!==""&&!/^[0-9]+$/.test(numbersOnly)){addInlineErrorToField(element.attr("id"),"Your verification code must be a number");error_found=true}else if(element.val()!==""&&element.val().trim().length!==6){addInlineErrorToField(element.attr("id"),"Your verification code should be 6 characters long");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function validateInlineEmail(element,submitButton){var error_found=false;if(element.val()!==""&&!validateEmail(element.val().trim().toLowerCase())){addInlineErrorToField(element.attr("id"),"This is not a valid email");error_found=true}else{removeInlineErrorFromField(element.attr("id"));if(!element.closest("form").find(".form-error")[0]){submitButton.prop("disabled",false).removeAttr("disabled")}}return error_found}function disableOldButton(buttonElement,formElement,debouceRecord){if(typeof debouceRecord!=="undefined"&&debouceRecord){oneSecondDebounce()}var oldButtonHtml=buttonElement.html();buttonElement.html('Please Wait &nbsp;<img src="https://cdn.kobobid.com/live/images/process_loader.gif" />').prop("disabled",true);formElement.find("input, select").prop("readonly","readonly");return oldButtonHtml}function enableOldButton(htmlText,buttonElement,formElement,debouceRecord){if(typeof debouceRecord!=="undefined"&&debouceRecord){oneSecondDebounce()}buttonElement.html(htmlText).prop("disabled",false).removeAttr("disabled");formElement.find("input, select").prop("readonly",false).removeAttr("readonly")}function formatInlineErrorMessages(errors){var remainingErrors="",foundErrorMessage=false;$.each(errors,function(errorKey,errorData){if(errorKey.startsWith("_")){window.location.href="/unavailable";return false}if($("#"+errorKey)[0]&&$("#"+errorKey).closest("form")&&$("#"+errorKey).closest("form").find("#"+errorKey+"-error")){var errorMessage="";if(_.isString(errorData)){errorMessage=errorData}else if(_.isArray(errorData)&&errorData[0]&&_.isString(errorData[0])){errorMessage=errorData[0]}if(errorMessage!==""){foundErrorMessage=true;addInlineErrorToField(errorKey,errorMessage)}}else{if(errorKey=="numOfAttempts"||errorKey=="blocked"){if(errorKey=="numOfAttempts"&&parseInt(errorData)>=2&&$("#attempts")[0])$("#attempts").html(errorData+" attempts. You will be barred after "+(errorData<5?"5 wrong attempts":"the next attempt")).removeClass("dn");else if(errorKey=="blocked"&&$("#blockedMsg #msg")[0]){$("#blockedMsg #msg").html(_.isObject(errorData)&&_.has(errorData,"msg")?errorData.msg:"You have exceeded the max. allowed login attempts for a day. Try again in 24 hours.");$("#blockedMsg").removeClass("dn")}}else{remainingErrors+=_.isString(errorData)?errorData+"<br/>":_.isArray(errorData)&&errorData[0]&&_.isString(errorData[0])?errorData[0]+"<br/>":""}}});if(remainingErrors!==""&&($(".error.pt3")[0]||$(".error.pt2")[0])){$(".error.pv3, .error.pv2").html(addErrorMessageToField(remainingErrors));$(".error.pv3, .error.pv2").removeClass("dn")}}function addErrorMessageToField(errorMessage){return'<img class="alert-circle" src="https://cdn.kobobid.com/live/icon/alerts/medium-error.svg" alt="Error"> '+errorMessage}function addSuccessMessageToField(successMessage){return'<img class="alert-circle" src="https://cdn.kobobid.com/live/icon/alerts/medium-success.svg" alt="Success"> '+successMessage}function addInfoMessageToField(infoMessage){return'<img class="alert-circle" src="https://cdn.kobobid.com/live/icon/alerts/medium-info.svg" alt="Info"> '+infoMessage}function addInlineErrorToField(errorKey,errorMessage){var form_group=".flex-column";if($("#"+errorKey).closest(".form-group")){form_group=".form-group"}$("#"+errorKey).closest(form_group).addClass("form-error");if(errorMessage){var inlineError=addErrorMessageToField(errorMessage).trim();if($("#"+errorKey).closest(form_group).find("#"+errorKey+"-error").html().trim()!==inlineError){$("#"+errorKey).closest(form_group).find("#"+errorKey+"-error").html(inlineError)}$("#"+errorKey).closest(form_group).find("#"+errorKey+"-error").removeClass("dn")}}function removeInlineErrorFromField(errorKey){var form_group=".flex-column";if($("#"+errorKey).closest(".form-group")){form_group=".form-group"}$("#"+errorKey).closest(form_group).removeClass("form-error");$("#"+errorKey).closest(form_group).find("#"+errorKey+"-error").html("");$("#"+errorKey).closest(form_group).find("#"+errorKey+"-error").addClass("dn")}function clearInlineErrors(){$(".form-error").removeClass("form-error");$(".page-errors").html("");$(".page-errors").addClass("dn");$(".inform.pv3, .inform.pt3, .inform.pt2").addClass("dn");$(".error.pv3, .error.pt3, .error.pt2").addClass("dn");$(".info.pv3, .info.pt3, .info.pt2").addClass("dn");$(".warn.pv3, .warn.pt3, .warn.pt2").addClass("dn")}function clearFocusErrors(elementButton){if(elementButton.closest("form")&&elementButton.closest("form").find(".form-error")[0]){elementButton.prop("disabled",false).removeAttr("disabled")}else if(elementButton.closest("form")&&elementButton.closest("form").find(".flex-column").hasClass("form-error")){elementButton.prop("disabled",false).removeAttr("disabled")}}